# Lecture Shorts Factory v2.1.0 κΈ°μ  λ°±μ„

---

## π“‹ Executive Summary

| ν•­λ© | κ°’ |
|------|-----|
| **μ•± URL** | https://dtslib-cleanup-temp.vercel.app/lecture-shorts/ |
| **GitHub Repo** | dtslib1979/dtslib-cloud-appstore |
| **νΈμ¤ν…** | Vercel (Hobby Plan - λ¬΄λ£) |
| **μ•„ν‚¤ν…μ²** | Dual-Engine (WebCodecs + FFmpeg.wasm) |
| **κ³ΌκΈ** | **$0/μ›”** |

---

## π—οΈ μ‹μ¤ν… μ•„ν‚¤ν…μ²

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                       CLIENT BROWSER                                 β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚                                                                      β”‚
β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”  β”‚
β”‚  β”‚                    ENGINE SELECTOR                            β”‚  β”‚
β”‚  β”‚     supportsWebCodecs() ? WebCodecs : FFmpeg.wasm            β”‚  β”‚
β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”  β”‚
β”‚                              β”‚                                       β”‚
β”‚              β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”                      β”‚
β”‚              β–Ό                               β–Ό                       β”‚
β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”    β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”          β”‚
β”‚  β”‚   π€ WebCodecs Path    β”‚    β”‚   β™οΈ FFmpeg Path       β”‚          β”‚
β”‚  β”‚   (Chrome/Edge)        β”‚    β”‚   (Safari/Firefox)     β”‚          β”‚
β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤    β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤          β”‚
β”‚  β”‚ β€Ά Canvas Frame Extract β”‚    β”‚ β€Ά FFmpeg.wasm          β”‚          β”‚
β”‚  β”‚ β€Ά VideoEncoder (HW)    β”‚    β”‚ β€Ά Software Encoding    β”‚          β”‚
β”‚  β”‚ β€Ά mp4-muxer            β”‚    β”‚ β€Ά libx264              β”‚          β”‚
β”‚  β”‚ β€Ά ~1-3λ¶„ μ²λ¦¬          β”‚    β”‚ β€Ά ~30λ¶„+ μ²λ¦¬          β”‚          β”‚
β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”    β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”          β”‚
β”‚              β”‚                               β”‚                       β”‚
β”‚              β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”                      β”‚
β”‚                              β–Ό                                       β”‚
β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”  β”‚
β”‚  β”‚                    BGM Mixing (FFmpeg)                        β”‚  β”‚
β”‚  β”‚         WebCodecs μ¶λ ¥ + BGM β†’ FFmpegλ΅ μ¤λ””μ¤ λ―Ήμ‹±           β”‚  β”‚
β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”  β”‚
β”‚                              β”‚                                       β”‚
β”‚                              β–Ό                                       β”‚
β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”  β”‚
β”‚  β”‚                    OUTPUT: MP4 Blob                           β”‚  β”‚
β”‚  β”‚              720Γ—1280 (9:16) | 30fps | 3λ¶„                    β”‚  β”‚
β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”  β”‚
β”‚                                                                      β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

---

## π“ νμΌ κµ¬μ΅°

```
lecture-shorts/
β”β”€β”€ index.html      # 6.1KB  - λ©”μΈ UI
β”β”€β”€ app.js          # 17.2KB - λ“€μ–Ό μ—”μ§„ λ΅μ§
β”β”€β”€ style.css       # 7.2KB  - μ¤νƒ€μΌλ§ (μ—”μ§„ λ°°μ§€ ν¬ν•¨)
β”β”€β”€ manifest.json   # 1.4KB  - PWA λ§¤λ‹νμ¤νΈ
β”β”€β”€ sw.js           # 2.5KB  - Service Worker
β””β”€β”€ icons/          # PWA μ•„μ΄μ½
β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€
Total:              ~34KB (gzip ~12KB)
```

---

## π”§ ν•µμ‹¬ κΈ°μ  μ¤νƒ

### 1. WebCodecs μ—”μ§„ (Primary)

| μ»΄ν¬λ„νΈ | μ—­ν•  |
|----------|------|
| **VideoEncoder** | ν•λ“μ›¨μ–΄ κ°€μ† H.264 μΈμ½”λ”© |
| **VideoFrame** | Canvas β†’ λΉ„λ””μ¤ ν”„λ μ„ λ³€ν™ |
| **mp4-muxer** | MP4 μ»¨ν…μ΄λ„ μƒμ„± |

```javascript
// ν•λ“μ›¨μ–΄ κ°€μ† μ„¤μ •
encoder.configure({
    codec: 'avc1.42001f',
    width: 720,
    height: 1280,
    bitrate: 2_500_000,
    framerate: 30,
    hardwareAcceleration: 'prefer-hardware'
});
```

### 2. FFmpeg μ—”μ§„ (Fallback)

| μ»΄ν¬λ„νΈ | λ²„μ „ | μ—­ν•  |
|----------|------|------|
| **FFmpeg.wasm** | 0.11.6 | WebAssembly μΈμ½”λ” |
| **@ffmpeg/core** | 0.11.0 | FFmpeg μ½”μ–΄ λ°”μ΄λ„λ¦¬ |

### 3. μ²λ¦¬ νμ΄ν”„λΌμΈ

```
[μΈνΈλ΅ μμƒ] β”€β”
              β”β”€β†’ [ν”„λ μ„ μ¶”μ¶] β†’ [μ†λ„ μ΅°μ ] β†’ [ν¬λ΅­] β†’ [μΈμ½”λ”©] β†’ [MP4]
[κ°•μ μμƒ] β”€β”€β”                                                    β”‚
                                                                    β”‚
[BGM (μ„ νƒ)] β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β†’ [FFmpeg λ―Ήμ‹±] β†β”€β”€β”€β”€β”
                                                       β”‚
                                                       β–Ό
                                              [μµμΆ… μ¶λ ¥ MP4]
```

---

## π“ μ„±λ¥ λΉ„κµ

| ν•­λ© | WebCodecs (v2.1) | FFmpeg.wasm (v1.4) | ν–¥μƒ |
|------|------------------|-------------------|------|
| **4λ¶„ μμƒ μ²λ¦¬** | ~1-3λ¶„ | ~30λ¶„+ | **10-30x** |
| **CPU μ‚¬μ©λ¥ ** | 20-40% | 100% | GPU μ¤ν”„λ΅λ“ |
| **λ©”λ¨λ¦¬ μ‚¬μ©** | ~200MB | ~500MB | ν¨μ¨μ  |
| **λΈλΌμ°μ € λ°μ‘** | μ •μƒ | λ©μ¶¤ ν„μƒ | κ°μ„  |

### λΈλΌμ°μ € μ§€μ›

| λΈλΌμ°μ € | WebCodecs | FFmpeg Fallback |
|----------|-----------|-----------------|
| Chrome 94+ | β… HW κ°€μ† | - |
| Edge 94+ | β… HW κ°€μ† | - |
| Safari | β | β… ν΄λ°± |
| Firefox | β | β… ν΄λ°± |

---

## π¬ μ¶λ ¥ μ¤ν™

| νλΌλ―Έν„° | κ°’ | μ„¤λ… |
|----------|-----|------|
| Resolution | 720Γ—1280 | 9:16 μ„Έλ΅ (μ‡ΌμΈ ) |
| Frame Rate | 30fps | λ¶€λ“λ¬μ΄ μ¬μƒ |
| Video Codec | H.264 | μµλ€ νΈν™μ„± |
| Bitrate | 2.5Mbps | κ³ ν’μ§ |
| Audio Codec | AAC | λ²”μ© ν¬λ§· |
| Audio Bitrate | 128kbps | λ…ν™•ν• μμ„± |
| Duration | 3λ¶„ (180μ΄) | μ‡ΌμΈ  μµμ  |

---

## π”„ v2.1.0 μ£Όμ” κ°μ„ 

### 1. μ¤νΈλ¦¬λ° μΈμ½”λ”©
```javascript
// v2.0: λ¨λ“  ν”„λ μ„ λ©”λ¨λ¦¬ μ €μ¥ ν›„ μΈμ½”λ”©
const frames = await extractAllFrames();  // λ©”λ¨λ¦¬ λ¶€λ‹΄

// v2.1: ν”„λ μ„λ³„ μ¦‰μ‹ μΈμ½”λ”©
await processVideoFrames(file, meta, speed, encoder, onProgress);
// ν”„λ μ„ μƒμ„± β†’ μΈμ½”λ”© β†’ λ©”λ¨λ¦¬ ν•΄μ  (μ‹¤μ‹κ°„)
```

### 2. BGM ν•μ΄λΈλ¦¬λ“ μ²λ¦¬
```javascript
// WebCodecsλ΅ λΉ„λ””μ¤ μƒμ„± ν›„ FFmpegλ΅ μ¤λ””μ¤ λ―Ήμ‹±
const videoBlob = await generateWithWebCodecs();  // HW κ°€μ†
const finalBlob = await mixBgmWithFFmpeg(videoBlob);  // μ¤λ””μ¤λ§ μ²λ¦¬
```

### 3. μ§„ν–‰λ¥  ν‘μ‹ κ°μ„ 
- μΈνΈλ΅/λ³ΈνΈ λ‹¨κ³„λ³„ μ§„ν–‰λ¥ 
- ν”„λ μ„ λ²νΈ μ‹¤μ‹κ°„ ν‘μ‹
- μ²λ¦¬ μ™„λ£ μ‹κ°„ ν‘μ‹

---

## π’° λΉ„μ© λ¶„μ„

### ν„μ¬ ν”λ: Hobby (λ¬΄λ£)

| λ¦¬μ†μ¤ | ν¬ν•¨λ‰ | ν„μ¬ μ‚¬μ©λ‰ | κ³ΌκΈ |
|--------|--------|-------------|------|
| **Bandwidth** | 100GB/μ›” | ~0GB | $0 |
| **Build Minutes** | λ¬΄μ ν• | ~2λ¶„/λ°°ν¬ | $0 |
| **Static Files** | 1GB | ~34KB | $0 |

### μ™ $0μΈκ°€?

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                    COST STRUCTURE                            β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚                                                              β”‚
β”‚  λΉ„λ””μ¤ μ²λ¦¬         : ν΄λΌμ΄μ–ΈνΈ λΈλΌμ°μ € (GPU κ°€μ†)        β”‚
β”‚  FFmpeg Core λ΅λ”©    : unpkg.com CDN (λ¬΄λ£)                  β”‚
β”‚  mp4-muxer λ΅λ”©      : jsdelivr.net CDN (λ¬΄λ£)              β”‚
β”‚  μμƒ μ—…λ΅λ“/λ‹¤μ΄λ΅λ“: μ„λ²„ κ±°μΉμ§€ μ•μ (Blob URL)          β”‚
β”‚                                                              β”‚
β”‚  β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β• β”‚
β”‚  MONTHLY COST:  $0.00                                        β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

---

## π”’ λ³΄μ• κ³ λ ¤μ‚¬ν•­

### 1. ν΄λΌμ΄μ–ΈνΈ μ‚¬μ΄λ“ μ²λ¦¬
- μμƒμ΄ μ„λ²„μ— μ—…λ΅λ“λμ§€ μ•μ
- κ°μΈ μ½ν…μΈ  λ³΄νΈ
- GDPR μ¤€μ

### 2. ν•„μ HTTP ν—¤λ”
```
Cross-Origin-Embedder-Policy: require-corp
Cross-Origin-Opener-Policy: same-origin
```
β†’ SharedArrayBuffer ν™μ„±ν™” (FFmpeg.wasm ν•„μ)

---

## π“± PWA κΈ°λ¥

### Service Worker μΊμ‹± μ „λµ

| λ¦¬μ†μ¤ | μ „λµ | μ΄μ  |
|--------|------|------|
| μ•± νμΌ | Network First | μµμ‹  λ²„μ „ λ³΄μ¥ |
| CDN λΌμ΄λΈλ¬λ¦¬ | Cache First | λ€μ©λ‰, λ³€κ²½ μ μ |

### μ¤ν”„λΌμΈ μ§€μ›

| κΈ°λ¥ | μ¤ν”„λΌμΈ | μ΄μ  |
|------|---------|------|
| UI λ΅λ”© | β… | SW μΊμ‹ |
| μμƒ μ²λ¦¬ | β οΈ λ¶€λ¶„ | FFmpeg CDN μμ΅΄ |
| νμΌ λ‹¤μ΄λ΅λ“ | β… | Blob URL |

---

## π€ ν–¥ν›„ κ°μ„  κ³„ν

### v2.2 μμ •
- [ ] Web Audio API κΈ°λ° BGM λ―Ήμ‹± (FFmpeg μμ΅΄ μ κ±°)
- [ ] μ¤ν”„λΌμΈ μ™„μ „ μ§€μ› (FFmpeg Core λ΅μ»¬ μΊμ‹±)
- [ ] μΈνΈλ΅ μ¤λ””μ¤ λ³΄μ΅΄ μµμ…

### v3.0 κ²€ν† 
- [ ] MediaRecorder API λ€μ• κ²€ν† 
- [ ] WebGPU κΈ°λ° ν¨κ³Ό ν•„ν„°
- [ ] ν΄λΌμ°λ“ λ λ”λ§ μµμ… (Pro κΈ°λ¥)

---

## π“ λ²„μ „ νμ¤ν† λ¦¬

| λ²„μ „ | λ‚ μ§ | μ£Όμ” λ³€κ²½ |
|------|------|----------|
| v1.0.0 | 2025-12-12 | FFmpeg.wasm κΈ°λ° μ΄κΈ° λ²„μ „ |
| v1.4.0 | 2025-12-12 | 480p + CRF32 μµμ ν™” |
| v2.0.0 | 2025-12-13 | WebCodecs μ—”μ§„ λ„μ… |
| v2.1.0 | 2025-12-13 | μ¤νΈλ¦¬λ° μΈμ½”λ”© + BGM κ°μ„  |

---

*Generated: 2025-12-13*
*Version: 2.1.0*
