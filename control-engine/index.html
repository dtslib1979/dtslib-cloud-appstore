<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#0b0b0f">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Prompt / Control Engine</title>
    <link rel="manifest" href="./manifest.json">
    <link rel="apple-touch-icon" href="../assets/icon-192.png">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <a href="../" class="back-btn">← Store</a>
            <h1>🎛️ Control Engine</h1>
            <p class="version">v1.0</p>
            <p class="tagline">PC Batch Runner용 실행 계획 생성기</p>
        </header>

        <!-- Progress Bar -->
        <div class="progress-bar">
            <div class="progress-step active" data-step="1">1</div>
            <div class="progress-line"></div>
            <div class="progress-step" data-step="2">2</div>
            <div class="progress-line"></div>
            <div class="progress-step" data-step="3">3</div>
            <div class="progress-line"></div>
            <div class="progress-step" data-step="4">4</div>
            <div class="progress-line"></div>
            <div class="progress-step" data-step="5">5</div>
            <div class="progress-line"></div>
            <div class="progress-step" data-step="6">6</div>
        </div>

        <main>
            <!-- Step 1: Field Selection -->
            <section class="step step-1 active" id="step1">
                <div class="step-header">
                    <h2>Step 1. Field 선택</h2>
                    <p class="step-desc">어떤 플랫폼용 콘텐츠인가요?</p>
                </div>
                <div class="step-content">
                    <div class="field-grid">
                        <button class="field-btn selected" data-field="youtube">
                            <span class="field-icon">▶️</span>
                            <span class="field-name">YouTube</span>
                        </button>
                        <button class="field-btn" data-field="shorts">
                            <span class="field-icon">📱</span>
                            <span class="field-name">Shorts</span>
                        </button>
                        <button class="field-btn" data-field="blog">
                            <span class="field-icon">📝</span>
                            <span class="field-name">Blog</span>
                        </button>
                        <button class="field-btn" data-field="instagram">
                            <span class="field-icon">📷</span>
                            <span class="field-name">Instagram</span>
                        </button>
                        <button class="field-btn" data-field="tistory">
                            <span class="field-icon">🅣</span>
                            <span class="field-name">Tistory</span>
                        </button>
                        <button class="field-btn" data-field="naver">
                            <span class="field-icon">🅽</span>
                            <span class="field-name">Naver</span>
                        </button>
                        <button class="field-btn" data-field="course">
                            <span class="field-icon">🎓</span>
                            <span class="field-name">Course</span>
                        </button>
                    </div>
                    <div class="step-actions">
                        <button class="btn-primary" id="toStep2">다음 →</button>
                    </div>
                </div>
            </section>

            <!-- Step 2: Project Info -->
            <section class="step step-2" id="step2">
                <div class="step-header">
                    <h2>Step 2. 프로젝트 정보</h2>
                    <p class="step-desc">프로젝트 기본 정보를 입력하세요</p>
                </div>
                <div class="step-content">
                    <div class="form-group">
                        <label for="projectName">프로젝트 이름 *</label>
                        <input type="text" id="projectName" placeholder="예: 2025-01-video-001" required>
                        <p class="form-hint">필수 입력</p>
                    </div>
                    <div class="form-group">
                        <label for="author">Author</label>
                        <input type="text" id="author" value="PARKSY">
                    </div>
                    <div class="form-group">
                        <label for="note">메모 (선택)</label>
                        <textarea id="note" rows="2" placeholder="프로젝트 관련 메모..."></textarea>
                    </div>
                    <div class="step-actions">
                        <button class="btn-secondary" id="backToStep1">← 이전</button>
                        <button class="btn-primary" id="toStep3" disabled>다음 →</button>
                    </div>
                </div>
            </section>

            <!-- Step 3: Preset Set Selection -->
            <section class="step step-3" id="step3">
                <div class="step-header">
                    <h2>Step 3. Preset Set 선택</h2>
                    <p class="step-desc">기본 설정 세트를 선택하세요</p>
                </div>
                <div class="step-content">
                    <div class="preset-grid">
                        <button class="preset-btn selected" data-preset="youtube_v1">
                            <span class="preset-icon">▶️</span>
                            <span class="preset-name">youtube_v1</span>
                            <span class="preset-desc">쇼츠 + 썸네일 + 오디오</span>
                        </button>
                        <button class="preset-btn" data-preset="blog_v1">
                            <span class="preset-icon">📝</span>
                            <span class="preset-name">blog_v1</span>
                            <span class="preset-desc">포스트 이미지 + 커버</span>
                        </button>
                        <button class="preset-btn" data-preset="insta_v1">
                            <span class="preset-icon">📷</span>
                            <span class="preset-name">insta_v1</span>
                            <span class="preset-desc">정사각 + 릴스</span>
                        </button>
                    </div>
                    <div class="step-actions">
                        <button class="btn-secondary" id="backToStep2">← 이전</button>
                        <button class="btn-primary" id="toStep4">다음 →</button>
                    </div>
                </div>
            </section>

            <!-- Step 4: Preset Parameters -->
            <section class="step step-4" id="step4">
                <div class="step-header">
                    <h2>Step 4. Preset 파라미터</h2>
                    <p class="step-desc">필요시 값을 수정하세요</p>
                </div>
                <div class="step-content">
                    <div class="preset-form" id="presetForm"></div>
                    <button class="btn-reset" id="resetPresets">↺ 기본값으로 초기화</button>
                    <div class="step-actions">
                        <button class="btn-secondary" id="backToStep3">← 이전</button>
                        <button class="btn-primary" id="toStep5">다음 →</button>
                    </div>
                </div>
            </section>

            <!-- Step 5: Pipeline Configuration -->
            <section class="step step-5" id="step5">
                <div class="step-header">
                    <h2>Step 5. Pipeline 구성</h2>
                    <p class="step-desc">실행할 모듈과 순서를 설정하세요</p>
                </div>
                <div class="step-content">
                    <div class="pipeline-list" id="pipelineList"></div>
                    <div class="step-actions">
                        <button class="btn-secondary" id="backToStep4">← 이전</button>
                        <button class="btn-primary" id="toStep6">다음 →</button>
                    </div>
                </div>
            </section>

            <!-- Step 6: Export -->
            <section class="step step-6" id="step6">
                <div class="step-header">
                    <h2>Step 6. Export</h2>
                    <p class="step-desc">run_plan.json을 다운로드하세요</p>
                </div>
                <div class="step-content">
                    <div class="json-preview" id="jsonPreview"></div>
                    <button class="export-btn" id="exportBtn">
                        📥 Download run_plan.json
                    </button>
                    <p class="export-hint">PC에서 Batch Runner로 실행하세요</p>
                    <div class="step-actions">
                        <button class="btn-secondary" id="backToStep5">← 이전</button>
                        <button class="btn-secondary" id="startOver">새로 시작</button>
                    </div>
                </div>
            </section>
        </main>

        <div class="toast" id="toast"></div>
    </div>

    <script src="app.js"></script>
</body>
</html>
